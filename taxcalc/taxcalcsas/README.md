Comparison of Tax-Calculator and NBER taxcalc.sas results
=========================================================

This directory includes tools used to compare the income tax results
generated by Tax-Calculator with results generated by a [SAS
program](http://www.nber.org/taxcalc) developed by Dan Feenberg and
Ina Shapiro of NBER.

The tools included in this directory support the following
cross-model-comparison work flow:

  1. Generate a sample of tax filing units (INPUT).
  2. Generate OUTPUT from INPUT using the inctax.py script.
  3. Generate OUTPUT from INPUT using the NBER taxcalc.sas program.
  4. Generate tax differences by comparing the two OUTPUT files.


First comparison: methods and results
-------------------------------------

The INPUT file used in the first comparison is generated as follows:

```
$ cd taxcalc/taxcalcsas
$ tclsh ../validation/make-in.tcl 2013 c > c13.in
$ python ../../simtax.py --taxsim2441 --records c13.in
$ mv c13.in.records c13.csv
$ python ../../inctax.py c13.csv 2013
$ diff c13-13.out-inctax c13.in.out-simtax 
$
```

The contents of the ```c13.in``` and ```c13.csv``` files are identical
in that they generate the exact same Tax-Calculator OUTPUT files:
```c13.in.out-simtax```, which is generated by the ```simtax.py```
command-line interface to the Tax-Calculator using ```c13.in``` as
INPUT, and ```c13-13.out-inctax```, which is generated by the
```inctax.py``` command-line interface to the Tax-Calculator using
```c13.csv``` as INPUT.
